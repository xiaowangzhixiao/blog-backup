---
title: 面试
toc: true
comments: true
date: 2020-02-18 15:46:16
tags:
category:
---

## 百度：推荐基础架构部门 C++
### 一面

- 聊项目
- 判断链表是否有环
- 2的30次和10的9次哪个大
- 网络的七层模型和四层模型
- TCP和IP分别属于哪一层
- TCP拥塞控制


## 字节跳动：基础架构部门 图计算、图存储
### 一面
- 聊项目
- directBuffer和heapBuffer的区别
- AsychronousFlieChannel的过程，和普通的filechannel的区别
- volatile和synchronized语义
- synchronized是给谁上锁
- 垃圾回收的过程
- 垃圾回收器的介绍
- full GC的STW会有多少次
- CountDownLatch和Semaphore一些同步工具
- 共享锁和独占锁的概念
- Restful API的设计 - 幂等的概念
- 两个有序数组其中位数

### 二面
- 聊项目
- volatile的可见性和原子性
- CAS底层原理，除了cas的汇编指令，你还知道哪些指令
- JMM介绍
- CPU cache架构l1，l2，l3
- 缓存行 8*8字节
- 多线程之间访问一个long类型的数组，里面有8个，会有性能问题吗
- 服务器CPU和内存的关系？？？numa架构
- 进程和线程之间的关系
- 进程内存模型
- JVM运行时内存
- TCP三次握手四次挥手
- 为什么有Time_Wait的阶段
- socket四元组，文件描述符介绍一下
- 无序数组中求TopK

### 三面
- 聊项目的思路
- 如果给定内存和磁盘存储，对于中间件性能挑战赛来说，哪些参数会影响你对技术路线的选择


# 陈雷雨 

## 阿里云
### 一面
先自我介绍一下吧
聊聊项目
如何提高并发度
继续提高
继续提高
。。。
如何保障业务重复提交的数据安全，有和策略
如果一个服务正在运行，然后beng了，你怎么处理，如何避免
你说一下进程和线程的区别吧
线程的状态有哪些
什么是线程安全
你说到锁，请问操作系统中如何实现锁的，不要说java的
什么是死锁
如何避免死锁，有和策略
如何避免内核切换
说一下什么是虚拟内存
虚拟内存是如何实现的
虚拟映射的过程说一下
GC是如何实现的
GC算法
什么是碎片化
有何解决
java面向对象的特征
java集合类 有哪些 集成关系
hashmap线程安全吗
Spring IOC是啥
如何实现的
bean的生命周期
Spring AOP是啥

算法
二叉树中序遍历（非递归）
快排

## 阿里妈妈二面
自我介绍
如何实现提高项目里面的并发
如何负载均衡如何实现
使用队列会造成什么问题
再进一步提高并发如何做
数据库如何保障同步
如何在一个系统中持续优化性能
在几千行的不熟悉的代码中如何优化
Mysql的隔离级别
有何区别
如何实现
java类的生命周期
java类如何装载
GC是如何操作的，底层如何实现
单例模式，介绍，为啥要单例
双重锁和懒汉单例的区别
说一些java是如何做并发的
java中的锁的区别
不同锁的性能怎么样
为何不是公平锁
锁的实现机制

算法：
在两个数组中找并集
优化
如果数据是几个G的怎么办

## 刘旖明 阿里妈妈
- 线程池
- 20亿取最小Top10 100M


## 付华阿里妈妈
- 多线程同时读一个文件怎么读最快
- filechannel定位的原理

## 丁上峰
- 4c的机器，200个线程，处理时延1ms，tps有多久




## 百度：java
### 一面 2.27
- String为什么设计为不可变的
- Java数组和String的长度分别是方法还是属性
- JVM的运行时内存结构
- HashMap的结构
- LRU cache怎么用java实现

### 二面 3.2
- 介绍项目
- 并发的过程中原子性的概念
- 原子操作的cas原理
- Hashtable和HashMap的区别
- LinkedHashMap的介绍
- TreeMap的有序性介绍
- JVM堆的垃圾回收算法
- Full gc的过程
- 倒排索引的原理
- luence底层文件结构
- Spring IOC是怎么实现的
- 静态代理和动态代理的区别
- 反射比较影响性能的原因
- 持久层框架有了解过吗，一般使用的是什么
- Mysql的B+树索引和Hash索引的区别和应用场景
- Innodb和MyISAM的存储结构的区别
- SQL语句中join ON和where的执行先后顺序
- 执行计划有没有看过
- 什么情况下会出现使用临时表
- 如何避免出现使用临时表
- 索引的最左匹配原则介绍一下
### 三面
基本上在聊项目，聊人生，聊团队

## 美团-到店事业部-平台技术部
### 一面
- 介绍项目
- 负载均衡如果后面机器崩了，有什么策略
- Kafka多个partition的结构介绍
- 消息重复消费、消息丢失等问题对于kafka的分析——幂等、事务
- LinkedBlockingQueue内部原理，如何实现阻塞
- ConcurrentLinkedQueue和LinkedBlockingQueue的区别
- AQS介绍
- 线程重复start会怎么样——抛异常，介绍线程的状态
- 线程切换会保存现场包括哪些
- 为什么线程切换要比进程切换开销小
- 算法：有序数组查找target的上下界
### 二面
1. 有序递增数组，随机选两个数，求和大于K的概率。
2. 有25匹马，每次只能拿出5匹来进行比较，那么最少可以通过多少次的比较，找到最快的三匹马？
3. 一个互送礼物的游戏，四个小伙伴把自己的礼物包装好放到一个大箱子里，然后四个小伙伴随机的从大箱子里面拿一件礼物，所有人都拿到不是自己礼物的概率。
4. 五个小伙伴。


## 微软
### 一面
#### 先写代码
- 题目：有n项工作，每项工作分别在si时间开始，ti时间结束。对于每项工作，你都可以选择参与与否，如果参与必须至始至终都参与，参与的时间段不能重叠。你的目标是参与尽可能多的工作，求最多能参与多少项工作。
- 题目：将一块很长的木板切割成N块，要求长度分别为l1,l2~ln。每次切断木板需要的开销为这个木板的长度，求按目标切完木板的最小开销是多少。
#### 问一些基础知识
- 问Java内存回收机制
- jdk源码都看那些了
- 聊聊Treeset和HashSet的区别和复杂度
- 聊聊arrayList的扩容

### 二面
- 介绍比赛
- 给出垂直于xy轴的矩形集合，求出矩形在直角坐标系中的覆盖的面积——分隔扫描法

### 三面
- 介绍比赛
- 将矩阵逆时针旋转90°
- 二叉树中节点带父节点指针，给定一个二叉树节点，求其中序遍历的下一个节点




## 快手
### 一面
- 聊项目
- 项目里的性能瓶颈会在哪里，Kafka的性能瓶颈会在哪里
- c语言和c++的static的语义
#### 算法题
- 链表后半部分反转间隔插入
- 有 n 个完全一样的玻璃球,  m层楼, 问在最坏的情况下最少需要多少次, 能确定 k：玻璃球从第 k 层楼摔下来刚好不会碎

### 二面
- 聊比赛和比赛中的可优化点
- direct io绕过了什么——pagecache
- 如果从SATA磁盘中随机读取能如何优化——针对磁盘寻道的电梯算法进行优化
- 单例模式中，静态内部类的单例原理
- 单例模式中双重校验锁中volatile的禁止指令重排到底是个什么逻辑
- IOC依赖注入的时机
- 写一个排序算法，我写了快速排序，问快速排序数组较小时，可以怎么优化


## 阿里妈妈-定向技术引擎-c++

### 一面
- 算法题
  - 链表排序
  - 求一个无序数组中排序后最大相邻差值
    - 排序 O(nlogn)
    - 按照数据范围，分为n-1个桶，统计桶之间的间距 O(n)
- 问对负载均衡的了解
- 问对自旋锁、锁、读写锁的底层原理

### 二面
可能之前有笔试，笔试成绩还不错，就没再问算法题，全程1小时50分钟，都在聊项目
- 假设我们要建设一个K-V数据库，数据较多，数据Value是一个topK的结构，如何设计我们的项目
- 面试官建议我要对一些数据指标有清晰的认识、对项目的描述、设计和关键点能够更加精炼，抽象